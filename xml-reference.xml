<div class="wiki-content maincontent"><h2>ActiveMQ Xml Reference</h2><p>This page contains a link to the XML reference guides and XML schema documents for <link><page ri:content-title="Xml Configuration"></page></link> with ActiveMQ releases</p><h3>Released Schemas</h3><table><tbody><tr><th colspan="1" rowspan="1"><p>Reference Document</p></th><th colspan="1" rowspan="1"><p>Reference</p></th><th colspan="1" rowspan="1"><p>XML Schema</p></th><th colspan="1" rowspan="1"><p>XML Schema namespace</p></th></tr><tr><td colspan="1" rowspan="1"><p><link><page ri:content-title="XBean XML Reference 4.1"></page></link></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-4.1.2.xsd.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-4.1.2.xsd">http://activemq.apache.org/schema/core/activemq-core-4.1.2.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.org/config/1.0">http://activemq.org/config/1.0</a></p></td></tr><tr><td colspan="1" rowspan="1"><p><link><page ri:content-title="XBean XML Reference 5.0"></page></link></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.0.0.xsd.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.0.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.0.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.org/config/1.0">http://activemq.org/config/1.0</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.1.0.xsd.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.1.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.1.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.2</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.2.0.xsd.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.2.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.2.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.3.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.3.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.3.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.3.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.3.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.3.1-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.3.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.3.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.3.2</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.3.2-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.3.2.xsd">http://activemq.apache.org/schema/core/activemq-core-5.3.2.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.4.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.4.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.4.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.4.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.4.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.4.1-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.4.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.4.2</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.4.2-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.4.2.xsd">http://activemq.apache.org/schema/core/activemq-core-5.4.2.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.5.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.5.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.5.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.5.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.6.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.6.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.6.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.6.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.7.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.7.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.7.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.7.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.8.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.8.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.8.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.8.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.9.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.9.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.9.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.9.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>XBean XML Reference 5.10.0</span></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.10.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.10.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.10.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.10.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.10.1-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.10.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.10.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>XBean XML Reference 5.10.2</span></p></td><td colspan="1" rowspan="1"><p><span><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.0-schema.html">Reference</a> </span></p></td><td colspan="1" rowspan="1"><p><span> <a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.10.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.11.0.xsd</a> </span></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.11.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.11.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.11.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.1-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.11.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.11.2</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.2-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.2.xsd">http://activemq.apache.org/schema/core/activemq-core-5.11.2.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.11.3</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.3-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.11.3.xsd">http://activemq.apache.org/schema/core/activemq-core-5.11.3.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.12.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.12.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.12.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.12.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.12.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.12.1-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.12.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.12.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.13.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.13.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.13.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.13.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.13.2</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.2.xsd">http://activemq.apache.org/schema/core/activemq-core-5.13.2.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.13.3</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.3.xsd">http://activemq.apache.org/schema/core/activemq-core-5.13.3.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.13.4</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.4-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.13.4.xsd">http://activemq.apache.org/schema/core/activemq-core-5.13.4.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.14.0</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.0-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.0.xsd">http://activemq.apache.org/schema/core/activemq-core-5.14.0.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.14.1</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.1-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.1.xsd">http://activemq.apache.org/schema/core/activemq-core-5.14.1.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.14.2</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.2-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.2.xsd">http://activemq.apache.org/schema/core/activemq-core-5.14.2.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.14.3</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.3-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.3.xsd">http://activemq.apache.org/schema/core/activemq-core-5.14.3.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.14.4</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.4-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.4.xsd">http://activemq.apache.org/schema/core/activemq-core-5.14.4.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr><tr><td colspan="1" rowspan="1"><p>XBean XML Reference 5.14.5</p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.5-schema.html">Reference</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core/activemq-core-5.14.5.xsd">http://activemq.apache.org/schema/core/activemq-core-5.14.5.xsd</a></p></td><td colspan="1" rowspan="1"><p><a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a></p></td></tr></tbody></table><h2>Using the XSDs in configuration files</h2><p>If you are using XBean to parse the XML configurations, the XML validation is optional so you do not need to specify the XML Schema Locations. However if you are using <link><page ri:content-title="Spring"></page><plain-text-link-body>Spring</plain-text-link-body></link>'s 2.0 XML handling to parse the XML then you need to refer to the XSD locations in your XML document because Spring uses schema namespace or schema location to resolve namespace handlers. Without correct namespace definition you will get messages like below:</p><structured-macro ac:macro-id="f77496d3-0e80-43ab-8c08-4d05a5c3a743" ac:name="code" ac:schema-version="1"><plain-text-body>Unable to locate NamespaceHandler for namespace [http://activemq.org/config/1.0]</plain-text-body></structured-macro><p>You can refer to a specific version of the XSD in your XML as follows</p><structured-macro ac:macro-id="223f8cfc-198c-44ef-a519-8c8245890821" ac:name="code" ac:schema-version="1"><parameter ac:name="">xml</parameter><plain-text-body>&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:amq="http://activemq.org/config/1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
        http://activemq.org/config/1.0 http://activemq.apache.org/schema/core/activemq-core-4.1.2.xsd"&gt;
</plain-text-body></structured-macro><p>or if you prefer you can use a generic XSD without the version number</p><structured-macro ac:macro-id="45dc3180-ac0a-4703-bd8a-b6ec2a291b28" ac:name="code" ac:schema-version="1"><parameter ac:name="">xml</parameter><plain-text-body>&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:amq="http://activemq.org/config/1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
        http://activemq.org/config/1.0 http://activemq.apache.org/schema/activemq-core.xsd"&gt;
</plain-text-body></structured-macro><p>Your IDE won't be able to fetch this XSD, you'll have to manually associate a specific release; however it does mean that you won't have to upgrade your XML config file with each ActiveMQ release; as it will resolve this XSD using the bundled XSD inside the activemq-core.jar.</p><h3>Pay attention to the namespace</h3><p>If you use ActiveMQ 5.0 or earlier you XML namespace definition should point to <code>
    <a shape="rect" href="http://activemq.org/config/1.0">http://activemq.org/config/1.0</a>
  </code>. If you use ActiveMQ 5.1 or later the namespace should point to <code>
    <a shape="rect" href="http://activemq.apache.org/schema/core">http://activemq.apache.org/schema/core</a>
  </code>.</p><structured-macro ac:macro-id="575bd8e6-9776-402f-a517-7823a6a58087" ac:name="code" ac:schema-version="1"><parameter ac:name="title">ActiveMQ 5.2 example</parameter><parameter ac:name="">xml</parameter><plain-text-body>&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:amq="http://activemq.apache.org/schema/core"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://activemq.apache.org/schema/core
        http://activemq.apache.org/schema/core/activemq-core-5.2.0.xsd
    "&gt;
&lt;/beans&gt;
</plain-text-body></structured-macro><structured-macro ac:macro-id="9ff0412c-d1db-45cb-bd24-6140adfb9f13" ac:name="code" ac:schema-version="1"><parameter ac:name="title">ActiveMQ 5.0 example</parameter><parameter ac:name="">xml</parameter><plain-text-body>&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:amq="http://activemq.org/config/1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://activemq.org/config/1.0
        http://activemq.apache.org/schema/core/activemq-core-5.0.0.xsd
    "&gt;
&lt;/beans&gt;
</plain-text-body></structured-macro><p>Both examples above are almost the same. Only one difference is xml namespace. You can find more information about the namespace change on <a shape="rect" href="http://old.nabble.com/ActiveMQ-namespace-change-td16769650.html">activemq-dev topic: ActiveMQ namespace change</a>.</p><h3>Schema Validation</h3><p><strong>Note:</strong> The xml configuration ordering constraint is removed in <a shape="rect" href="https://issues.apache.org/jira/browse/AMQ-3570">5.6</a>, the broker element</p><h4>Alphabetically Ordered XML Elements (5.4 - 5.5.1)</h4><p>XMLSchema:sequence is replaced with an XMLSchema:all</p><p>Note: from version 5.4.2, you can disable validation from the command line by appending a query parameter to the xbean url. This will allow you to reuse your existing xml configuration 'as is' if needed.</p><structured-macro ac:macro-id="42999cc8-ddea-4684-98ec-5213b779c3d3" ac:name="code" ac:schema-version="1"><plain-text-body>bin/activemq console xbean:conf/activemq.xml?validate=false</plain-text-body></structured-macro><p>Beginning in ActiveMQ 5.4, the XML elements inside the <code>&lt;broker&gt;</code> element must be ordered alphabetically. If you look at the XSD, this has always been the case with ActiveMQ. The difference in 5.4 is that the XML configuration is actually being validated against the XML schema.</p><p>For example, the following XML configuration did not present a problem in ActiveMQ 5.3.x:</p><structured-macro ac:macro-id="872bf198-5f71-4978-83d3-6be3843dfce4" ac:name="code" ac:schema-version="1"><plain-text-body> 
&lt;?xml version="1.0"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd   
http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd      
http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd"&gt;
  
  &lt;broker xmlns="http://activemq.apache.org/schema/core" brokerName="brokerB1" destroyApplicationContextOnStop="true"&gt;
    
    &lt;plugins&gt;
      &lt;loggingBrokerPlugin/&gt;
    &lt;/plugins&gt;
    
    &lt;persistenceAdapter&gt;
      &lt;kahaDB directory="${activemq.base}/data/kahadb" enableJournalDiskSyncs="false" indexWriteBatchSize="10000" indexCacheSize="1000"/&gt;
    &lt;/persistenceAdapter&gt;
    
    &lt;destinationPolicy&gt;
      &lt;policyMap&gt;
        &lt;policyEntries&gt;
          &lt;policyEntry queue="&gt;" producerFlowControl="true" memoryLimit="5mb"&gt;
            &lt;deadLetterStrategy&gt;
              &lt;individualDeadLetterStrategy queuePrefix="DLQ." useQueueForQueueMessages="true"/&gt;
            &lt;/deadLetterStrategy&gt;
          &lt;/policyEntry&gt;
        &lt;/policyEntries&gt;
      &lt;/policyMap&gt;
    &lt;/destinationPolicy&gt;
    
    &lt;managementContext&gt;
      &lt;managementContext createConnector="false"/&gt;
    &lt;/managementContext&gt;
    
    &lt;systemUsage&gt;
      &lt;systemUsage&gt;
        &lt;memoryUsage&gt;
          &lt;memoryUsage limit="420 mb"/&gt;
        &lt;/memoryUsage&gt;
        &lt;storeUsage&gt;
          &lt;storeUsage limit="1 gb"/&gt;
        &lt;/storeUsage&gt;
        &lt;tempUsage&gt;
          &lt;tempUsage limit="250 mb"/&gt;
        &lt;/tempUsage&gt;
      &lt;/systemUsage&gt;
    &lt;/systemUsage&gt;
    
    &lt;transportConnectors&gt;
      &lt;transportConnector name="tcp" uri="tcp://0.0.0.0:61616"/&gt;
    &lt;/transportConnectors&gt;
    
  &lt;/broker&gt;
  
&lt;/beans&gt;
</plain-text-body></structured-macro><p>However, in ActiveMQ 5.4, the XML configuration above would cause an exception similar to the following:</p><structured-macro ac:macro-id="9186c96a-be1e-4904-89b5-c27c59dec78e" ac:name="panel" ac:schema-version="1"><rich-text-body><p>Caused by: org.xml.sax.SAXParseException: cvc-complex-type.2.4.a: Invalid content was found starting with element 'persistenceAdapter'. One of '{"http://activemq.apache.org/schema/core":producerSystemUsage, "http://activemq.apache.org/schema/core":proxyConnectors, "http://activemq.apache.org/schema/core":regionBroker, "http://activemq.apache.org/schema/core":services, "http://activemq.apache.org/schema/core":shutdownHooks, "http://activemq.apache.org/schema/core":sslContext, "http://activemq.apache.org/schema/core":systemUsage, "http://activemq.apache.org/schema/core":taskRunnerFactory, "http://activemq.apache.org/schema/core":tempDataStore, "http://activemq.apache.org/schema/core":transportConnectorURIs, "http://activemq.apache.org/schema/core":transportConnectors, WC<link><page ri:content-title="&quot;http://activemq.apache.org/schema/core&quot;" ri:space-key="##other"></page><plain-text-link-body>"http://activemq.apache.org/schema/core"</plain-text-link-body></link>}' is expected.</p></rich-text-body></structured-macro><p>To avoid this XML validation error in ActiveMQ 5.4, simply change the ordering of the XML elements so that they are in alphabetical order. Below is an example of the same XML configuration but in alphabetical order:</p><structured-macro ac:macro-id="8d94cd74-29af-46b1-b4c0-e180d1c4710a" ac:name="code" ac:schema-version="1"><plain-text-body> 
&lt;?xml version="1.0"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd   
http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd      
http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd"&gt;
  
  &lt;broker xmlns="http://activemq.apache.org/schema/core" brokerName="brokerB1" destroyApplicationContextOnStop="true"&gt;
    
    &lt;destinationPolicy&gt;
      &lt;policyMap&gt;
        &lt;policyEntries&gt;
          &lt;policyEntry queue="&gt;" producerFlowControl="true" memoryLimit="5mb"&gt;
            &lt;deadLetterStrategy&gt;
              &lt;individualDeadLetterStrategy queuePrefix="DLQ." useQueueForQueueMessages="true"/&gt;
            &lt;/deadLetterStrategy&gt;
          &lt;/policyEntry&gt;
        &lt;/policyEntries&gt;
      &lt;/policyMap&gt;
    &lt;/destinationPolicy&gt;
    
    &lt;managementContext&gt;
      &lt;managementContext createConnector="false"/&gt;
    &lt;/managementContext&gt;

    &lt;persistenceAdapter&gt;
      &lt;kahaDB directory="${activemq.base}/data/kahadb" enableJournalDiskSyncs="false" indexWriteBatchSize="10000" indexCacheSize="1000"/&gt;
    &lt;/persistenceAdapter&gt;

    &lt;plugins&gt;
      &lt;loggingBrokerPlugin/&gt;
    &lt;/plugins&gt;
    
    &lt;systemUsage&gt;
      &lt;systemUsage&gt;
        &lt;memoryUsage&gt;
          &lt;memoryUsage limit="420 mb"/&gt;
        &lt;/memoryUsage&gt;
        &lt;storeUsage&gt;
          &lt;storeUsage limit="1 gb"/&gt;
        &lt;/storeUsage&gt;
        &lt;tempUsage&gt;
          &lt;tempUsage limit="250 mb"/&gt;
        &lt;/tempUsage&gt;
      &lt;/systemUsage&gt;
    &lt;/systemUsage&gt;
    
    &lt;transportConnectors&gt;
      &lt;transportConnector name="tcp" uri="tcp://0.0.0.0:61616"/&gt;
    &lt;/transportConnectors&gt;
    
  &lt;/broker&gt;
  
&lt;/beans&gt;
</plain-text-body></structured-macro><p>Configurations can be easily tested against ActiveMQ 5.4 using the ActiveMQ startup script. Below is an example:</p><structured-macro ac:macro-id="0d43d5f3-c2b7-4731-b338-623ee2421f4b" ac:name="panel" ac:schema-version="1"><rich-text-body><p>$ cd $ACTIVEMQ_HOME<br clear="none"> $ ./bin/activemq console xbean:file:/Users/bsnyder/SpringSource/clients/Finra/activemq-example-unordered.xml <br clear="none"> INFO: Using default configuration<br clear="none"> (you can configure options in one of these file: /etc/default/activemq /Users/bsnyder/.activemqrc)</p><p>INFO: Invoke the following command to create a configuration file<br clear="none"> ./bin/activemq setup [ /etc/default/activemq | /Users/bsnyder/.activemqrc ]</p><p>INFO: Using java '/System/Library/Frameworks/JavaVM.framework/Home/bin/java'<br clear="none"> INFO: Starting in foreground, this is just for debugging purposes (stop process by pressing CTRL+C)<br clear="none"> Java Runtime: Apple Inc. 1.6.0_20 /System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home<br clear="none"> Heap sizes: current=258880k free=253106k max=258880k<br clear="none"> JVM args: -Xms256M -Xmx256M -Dorg.apache.activemq.UseDedicatedTaskRunner=true -Djava.util.logging.config.file=logging.properties -Dcom.sun.management.jmxremote -Dactivemq.classpath=/Users/bsnyder/amq/apache-activemq-5.4.1/conf; -Dactivemq.home=/Users/bsnyder/amq/apache-activemq-5.4.1 -Dactivemq.base=/Users/bsnyder/amq/apache-activemq-5.4.1<br clear="none"> ACTIVEMQ_HOME: /Users/bsnyder/amq/apache-activemq-5.4.1<br clear="none"> ACTIVEMQ_BASE: /Users/bsnyder/amq/apache-activemq-5.4.1<br clear="none"> Loading message broker from: xbean:file:/Users/bsnyder/SpringSource/clients/Finra/activemq-example-unordered.xml<br clear="none"> ...</p></rich-text-body></structured-macro></div>

