<div class="wiki-content maincontent"><p>In ActiveMQ you do <strong>not</strong> have to create destinations up front before you can use them. The ActiveMQ broker auto-creates the physical resources associated with a destination on demand (i.e. when messages are sent to a new destination on a broker). </p>

<p>This means that a client can create a new Queue or Topic dynamically either by</p>

<ul><li>calling createQueue() or createTopic() on a JMS Session</li><li>creating an instance of ActiveMQTopic or ActiveMQQueue and possibly registering them in JNDI</li></ul>


<p>and the broker will automatically create the physical destinations for you.  This avoids spending large amounts of time creating every individual destination you wish to use and possibly then exposing it in some JNDI provider.</p>

<p>In addition, if you are using JNDI to lookup connection factory and destinations, you can specify which destinations you wish to create by default using the properties file. See the <link><page ri:content-title="JNDI Support"></page></link> for more details. </p>


<h3>Creating destinations on startup</h3>

<p>Its completely optional but as of 4.1 you can <link><page ri:content-title="Configure Startup Destinations"></page></link> to specify which destinations are automatically created when the broker starts.</p>

<h3>Limiting creation of destinations</h3>

<p>If you need to restrict access or creation of destinations then please use the <link><page ri:content-title="Security"></page></link> option to disable destinations being auto-created for certain users. </p>
<structured-macro ac:macro-id="5a28a8d5-28a7-45ad-87a8-b42708854c9a" ac:name="info" ac:schema-version="1"><parameter ac:name="title">Client side destination objects are not the same as server side resources</parameter><rich-text-body>
<p>Note that the ActiveMQ Broker will only create server side resources for destinations when messages are actually sent to them. So you can create as many instances of ActiveMQTopic and ActiveMQQueue on a client without any real overhead until you actually send messages to them on a broker.  So a JMS client creating a new ActiveMQQueue POJO does not mean you are creating server side queue resources.</p>

<p>Think of the ActiveMQQueue and ActiveMQTopic classes as like java.net.URL. They are just names which refer to server side resources which are auto-created when they are used.<br clear="none">
This means that different clients creating different ActiveMQQueue instances will communicate with the same physical queue on a JMS broker if the name is the same.</p></rich-text-body></structured-macro>

<p>You can browse the currently available queues and topics using <link><page ri:content-title="JMX"></page></link>. You can also use the <link><page ri:content-title="JMX"></page></link> MBeans to create the destinations you require.</p></div>

