<div class="wiki-content maincontent">
<p>The Integration Tests validate that ActiveMQ Resource Adapter operate correctly when deployed with a J2EE application running in an Application Server such as Apache Geronimo.</p>

<h2>Getting Ready</h2>

<p>The instructions on this page reference a few directories that you will need to substitute appropriate values for:</p>
<ul><li><em>activemq-core</em> is where your ActiveMQ source code is located.</li><li><em>geronimo-home</em> is where your Geronimo home directory is located.</li></ul>


<h2>Building the ActiveMQ Resource Adapter</h2>

<p>The ActiveMQ Resource Adapter allows a J2EE Application Server to provide transaction management, connection pooling and security to ActiveMQ connection when used by EJBs. The Resource Adapter is deployed in the client EAR that will be using the ActiveMQ.</p>
<structured-macro ac:macro-id="ee6afd83-8b33-4daa-b68f-e794c0025e20" ac:name="code" ac:schema-version="1"><plain-text-body>
cd activemq-ra
maven rar:install-snapshot
</plain-text-body></structured-macro>
<p>&#160;</p>

<p>&#160;</p>

<h2>Building the Integration Test EJB module</h2>

<p>The Integration Test EJB module provides a set of EJBs that the tests are run against.</p>
<structured-macro ac:macro-id="d638161b-414d-4cf3-9e0d-dd21bc6c9245" ac:name="code" ac:schema-version="1"><plain-text-body>
cd systest/itests/ejb
maven
</plain-text-body></structured-macro>
<p>&#160;</p>

<p>&#160;</p>

<h2>Building and Deploying the Integration Test EAR module</h2>

<p>The EAR module packages up the Resource Adapter and the Integration Tests EJBs into a deployable EAR.</p>
<structured-macro ac:macro-id="c636a44d-9d69-4691-8e51-4cefff3a8559" ac:name="code" ac:schema-version="1"><plain-text-body>
cd systest/itests/ear
maven -Dgeronimo.home=geronimo-home
</plain-text-body></structured-macro>
<p>&#160;</p>

<p>&#160;</p>

<h2>Starting Geronimo with the Integration Test EAR configuration.</h2>

<p>In a seperate console, issue the following commands</p>
<structured-macro ac:macro-id="2151b074-3e72-4b45-a729-2b872e261a7e" ac:name="code" ac:schema-version="1"><plain-text-body>
cd geronimo-home
java -jar bin/server.jar org/activemq/ear/itest
</plain-text-body></structured-macro>
<p>&#160;</p>

<p>&#160;</p>

<h2>Building and running the Integration Tests.</h2>

<p>The following builds and runs the integration tests:</p>
<structured-macro ac:macro-id="84c9c914-c765-4b10-83c9-008b0f80a189" ac:name="code" ac:schema-version="1"><plain-text-body>
cd systest/itests/client
maven
</plain-text-body></structured-macro>
<p>&#160;</p>

<p>&#160;</p></div>

